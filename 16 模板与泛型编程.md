## 模板

### 函数模板

* 关键字 template，后跟一个模板参数列表(一个逗号分隔的一个或多个模板参数的列表)。
* 实例化函数模板，编译器用推断出的模板参数来为我们实例化一个特定版本的函数。
* 类型参数前必须使用关键字 class 或 typename。
* 非类型模板参数，是一个值，而非一个类型。
* 非类型模板参数的模板实参必须是常量表达式。
* less<T> 的默认实现用的是 < 。
* 函数模板和类模板成员函数的定义通常放在头文件中。
* 编写泛型代码的两个重要原则：模板中的函数参数是 const 的引用；函数体中的条件判断仅使用 < 比较运算。

### 类模板

* 编译器不能为类模板推断模板参数类型。
* 实例化类模板。
* 类模板的成员函数。

## C++ 11 的新特性

**声明模板类型形参为友元**

令模板自己的类型参数成为友元。

```
template <typename Type> class Bar {
  friend Type; //将访问权限授予用来实例化 Bar 的类型
  //...
}
```

**模板类型别名**

```
template <typename T> using twin = pair<T, T>;

twin<string> authors;    //authors 是一个 pair<string, string>
```

**模板函数的默认模板参数**

默认模板实参。

```
// 默认模板实参 less<T> 和一个默认函数实参 F()
template <typename T, typename F = less<T>>
int compare(const T &v1, const T &v2, F f = F())
{
  if (f(v1, v2))  return -1;
  if (f(v2, v1))  return 1;
  return 0;
}
```

**实例化的显示控制**

**模板函数与尾置返回类型**

**引用折叠规则**

**用 static_cast 将左值转换为右值**

**标准库 forward 函数**

**可变参数模板**

**sizeof... 运算符**

**可变参数模板与转发**
